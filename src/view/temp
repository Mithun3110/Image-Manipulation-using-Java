  private void loadImage() {
    JFileChooser fileChooser = new JFileChooser();
    int returnValue = fileChooser.showOpenDialog(null);
    if (returnValue == JFileChooser.APPROVE_OPTION) {
      File selectedFile = fileChooser.getSelectedFile();
      try {
        currentImage = ImageIO.read(selectedFile);
        imageLabel.setIcon(new ImageIcon(currentImage));
        updateHistogram();
      } catch (Exception ex) {
        showError("Error loading image: " + ex.getMessage());
      }
    }
  }

  private void saveImage() {
    if (currentImage == null) {
      showError("No image to save.");
      return;
    }
    JFileChooser fileChooser = new JFileChooser();
    int returnValue = fileChooser.showSaveDialog(null);
    if (returnValue == JFileChooser.APPROVE_OPTION) {
      File selectedFile = fileChooser.getSelectedFile();
      try {
        String filePath = selectedFile.getAbsolutePath();
        String fileExtension = filePath.substring(filePath.lastIndexOf(".") + 1);
        ImageIO.write(currentImage, fileExtension, selectedFile);
      } catch (Exception ex) {
        showError("Error saving image: " + ex.getMessage());
      }
    }
  }

  private void blurImage() {
    if (currentImage == null) {
      showError("No image to blur.");
      return;
    }
    // Implement blur logic here
    showMessage("Blur operation applied (not implemented).");
  }

  private void sharpenImage() {
    if (currentImage == null) {
      showError("No image to sharpen.");
      return;
    }
    // Implement sharpen logic here
    showMessage("Sharpen operation applied (not implemented).");
  }

  private void convertToGreyscale() {
    if (currentImage == null) {
      showError("No image to convert to greyscale.");
      return;
    }
    // Implement greyscale logic here
    showMessage("Greyscale operation applied (not implemented).");
  }

  private void applySepia() {
    if (currentImage == null) {
      showError("No image to apply sepia.");
      return;
    }
    // Implement sep ia logic here
    showMessage("Sepia operation applied (not implemented).");
  }

  private void flipImage() {
    if (currentImage == null) {
      showError("No image to flip.");
      return;
    }
    // Implement flip logic here
    showMessage("Flip operation applied (not implemented).");
  }

  private void compressImage() {
    if (currentImage == null) {
      showError("No image to compress.");
      return;
    }
    // Implement compression logic here
    showMessage("Compression applied (not implemented).");
  }

  private void updateHistogram() {
    // Implement histogram drawing logic here
    histogramPanel.removeAll();
    histogramPanel.revalidate();
    histogramPanel.repaint();
  }